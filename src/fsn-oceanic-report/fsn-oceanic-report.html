<html><head></head><body><div hidden="" by-polymer-bundler=""><link rel="import" href="../pedro-toolbox-app.html"><dom-module id="iron-autogrow-textarea" assetpath="../../bower_components/iron-autogrow-textarea/"><template><style>:host{display:inline-block;position:relative;width:400px;border:1px solid;padding:2px;-moz-appearance:textarea;-webkit-appearance:textarea;overflow:hidden;}.mirror-text{visibility:hidden;word-wrap:break-word;}.fit{@apply (--layout-fit);}textarea{position:relative;outline:none;border:none;resize:none;background:inherit;color:inherit;width:100%;height:100%;font-size:inherit;font-family:inherit;line-height:inherit;text-align:inherit;@apply (--iron-autogrow-textarea);}::content textarea:invalid{box-shadow:none;}textarea::-webkit-input-placeholder{@apply (--iron-autogrow-textarea-placeholder);}textarea:-moz-placeholder{@apply (--iron-autogrow-textarea-placeholder);}textarea::-moz-placeholder{@apply (--iron-autogrow-textarea-placeholder);}textarea:-ms-input-placeholder{@apply (--iron-autogrow-textarea-placeholder);}</style><div id="mirror" class="mirror-text" aria-hidden="true">&nbsp;</div><div class="textarea-container fit"><textarea id="textarea" name$="[[name]]" autocomplete$="[[autocomplete]]" autofocus$="[[autofocus]]" inputmode$="[[inputmode]]" placeholder$="[[placeholder]]" readonly$="[[readonly]]" required$="[[required]]" disabled$="[[disabled]]" rows$="[[rows]]" minlength$="[[minlength]]" maxlength$="[[maxlength]]"></textarea></div></template></dom-module><script>Polymer({is:'iron-autogrow-textarea',behaviors:[Polymer.IronFormElementBehavior,Polymer.IronValidatableBehavior,Polymer.IronControlState],properties:{bindValue:{observer:'_bindValueChanged',type:String},rows:{type:Number,value:1,observer:'_updateCached'},maxRows:{type:Number,value:0,observer:'_updateCached'},autocomplete:{type:String,value:'off'},autofocus:{type:Boolean,value:!1},inputmode:{type:String},placeholder:{type:String},readonly:{type:String},required:{type:Boolean},minlength:{type:Number},maxlength:{type:Number}},listeners:{input:'_onInput'},observers:['_onValueChanged(value)'],get textarea(){return this.$.textarea},get selectionStart(){return this.$.textarea.selectionStart},get selectionEnd(){return this.$.textarea.selectionEnd},set selectionStart(a){this.$.textarea.selectionStart=a},set selectionEnd(a){this.$.textarea.selectionEnd=a},attached:function(){var a=navigator.userAgent.match(/iP(?:[oa]d|hone)/);a&&(this.$.textarea.style.marginLeft='-3px')},validate:function(){if(!this.required&&''==this.value)return this.invalid=!1,!0;var a;return this.hasValidator()?a=Polymer.IronValidatableBehavior.validate.call(this,this.value):(a=this.$.textarea.validity.valid,this.invalid=!a),this.fire('iron-input-validate'),a},_bindValueChanged:function(){var a=this.textarea;a&&(a.value!==this.bindValue&&(a.value=this.bindValue||0===this.bindValue?this.bindValue:''),this.value=this.bindValue,this.$.mirror.innerHTML=this._valueForMirror(),this.fire('bind-value-changed',{value:this.bindValue}))},_onInput:function(a){this.bindValue=a.path?a.path[0].value:a.target.value},_constrain:function(a){var b;for(a=a||[''],b=0<this.maxRows&&a.length>this.maxRows?a.slice(0,this.maxRows):a.slice(0);0<this.rows&&b.length<this.rows;)b.push('');return b.join('<br/>')+'&#160;'},_valueForMirror:function(){var a=this.textarea;if(a)return this.tokens=a&&a.value?a.value.replace(/&/gm,'&amp;').replace(/"/gm,'&quot;').replace(/'/gm,'&#39;').replace(/</gm,'&lt;').replace(/>/gm,'&gt;').split('\n'):[''],this._constrain(this.tokens)},_updateCached:function(){this.$.mirror.innerHTML=this._constrain(this.tokens)},_onValueChanged:function(){this.bindValue=this.value}});</script><dom-module id="paper-textarea" assetpath="../../bower_components/paper-input/"><template><style>:host{display:block;}:host([hidden]){display:none !important;}label{pointer-events:none;}</style><paper-input-container no-label-float$="[[noLabelFloat]]" always-float-label="[[_computeAlwaysFloatLabel(alwaysFloatLabel,placeholder)]]" auto-validate$="[[autoValidate]]" disabled$="[[disabled]]" invalid="[[invalid]]"><label hidden$="[[!label]]" aria-hidden="true" for="input" slot="label">[[label]]</label><iron-autogrow-textarea id="input" class="paper-input-input" slot="input" aria-labelledby$="[[_ariaLabelledBy]]" aria-describedby$="[[_ariaDescribedBy]]" bind-value="{{value}}" invalid="{{invalid}}" validator$="[[validator]]" disabled$="[[disabled]]" autocomplete$="[[autocomplete]]" autofocus$="[[autofocus]]" inputmode$="[[inputmode]]" name$="[[name]]" placeholder$="[[placeholder]]" readonly$="[[readonly]]" required$="[[required]]" minlength$="[[minlength]]" maxlength$="[[maxlength]]" autocapitalize$="[[autocapitalize]]" rows$="[[rows]]" max-rows$="[[maxRows]]" on-change="_onChange"></iron-autogrow-textarea><template is="dom-if" if="[[errorMessage]]"><paper-input-error aria-live="assertive" slot="add-on">[[errorMessage]]</paper-input-error></template><template is="dom-if" if="[[charCounter]]"><paper-input-char-counter slot="add-on"></paper-input-char-counter></template></paper-input-container></template></dom-module><script>Polymer({is:'paper-textarea',behaviors:[Polymer.PaperInputBehavior,Polymer.IronFormElementBehavior],properties:{_ariaLabelledBy:{observer:'_ariaLabelledByChanged',type:String},_ariaDescribedBy:{observer:'_ariaDescribedByChanged',type:String},rows:{type:Number,value:1},maxRows:{type:Number,value:0}},_ariaLabelledByChanged:function(a){this.$.input.textarea.setAttribute('aria-labelledby',a)},_ariaDescribedByChanged:function(a){this.$.input.textarea.setAttribute('aria-describedby',a)},get _focusableElement(){return this.$.input.textarea}});</script><script>Polymer.IronCheckedElementBehaviorImpl={properties:{checked:{type:Boolean,value:!1,reflectToAttribute:!0,notify:!0,observer:'_checkedChanged'},toggles:{type:Boolean,value:!0,reflectToAttribute:!0},value:{type:String,value:'on',observer:'_valueChanged'}},observers:['_requiredChanged(required)'],created:function(){this._hasIronCheckedElementBehavior=!0},_getValidity:function(){return this.disabled||!this.required||this.checked},_requiredChanged:function(){this.required?this.setAttribute('aria-required','true'):this.removeAttribute('aria-required')},_checkedChanged:function(){this.active=this.checked,this.fire('iron-change')},_valueChanged:function(){(this.value===void 0||null===this.value)&&(this.value='on')}},Polymer.IronCheckedElementBehavior=[Polymer.IronFormElementBehavior,Polymer.IronValidatableBehavior,Polymer.IronCheckedElementBehaviorImpl];</script><script>Polymer.PaperCheckedElementBehaviorImpl={_checkedChanged:function(){Polymer.IronCheckedElementBehaviorImpl._checkedChanged.call(this),this.hasRipple()&&(this.checked?this._ripple.setAttribute('checked',''):this._ripple.removeAttribute('checked'))},_buttonStateChanged:function(){Polymer.PaperRippleBehavior._buttonStateChanged.call(this);this.disabled||this.isAttached&&(this.checked=this.active)}},Polymer.PaperCheckedElementBehavior=[Polymer.PaperInkyFocusBehavior,Polymer.IronCheckedElementBehavior,Polymer.PaperCheckedElementBehaviorImpl];</script><dom-module id="paper-checkbox" assetpath="../../bower_components/paper-checkbox/"><template strip-whitespace=""><style>:host{display:inline-block;white-space:nowrap;cursor:pointer;--calculated-paper-checkbox-size:var(--paper-checkbox-size, 18px);--calculated-paper-checkbox-ink-size:var(--paper-checkbox-ink-size, -1px);@apply --paper-font-common-base;line-height:0;-webkit-tap-highlight-color:transparent;}:host([hidden]){display:none !important;}:host(:focus){outline:none;}.hidden{display:none;}#checkboxContainer{display:inline-block;position:relative;width:var(--calculated-paper-checkbox-size);height:var(--calculated-paper-checkbox-size);min-width:var(--calculated-paper-checkbox-size);margin:var(--paper-checkbox-margin, initial);vertical-align:var(--paper-checkbox-vertical-align, middle);background-color:var(--paper-checkbox-unchecked-background-color, transparent);}#ink{position:absolute;top:calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);left:calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);width:var(--calculated-paper-checkbox-ink-size);height:var(--calculated-paper-checkbox-ink-size);color:var(--paper-checkbox-unchecked-ink-color, var(--primary-text-color));opacity:0.6;pointer-events:none;}:host-context([dir="rtl"]) #ink{right:calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);left:auto;}#ink[checked]{color:var(--paper-checkbox-checked-ink-color, var(--primary-color));}#checkbox{position:relative;box-sizing:border-box;height:100%;border:solid 2px;border-color:var(--paper-checkbox-unchecked-color, var(--primary-text-color));border-radius:2px;pointer-events:none;-webkit-transition:background-color 140ms, border-color 140ms;transition:background-color 140ms, border-color 140ms;}#checkbox.checked #checkmark{-webkit-animation:checkmark-expand 140ms ease-out forwards;animation:checkmark-expand 140ms ease-out forwards;}@-webkit-keyframes checkmark-expand{0%{-webkit-transform:scale(0, 0) rotate(45deg);}100%{-webkit-transform:scale(1, 1) rotate(45deg);}}@keyframes checkmark-expand{0%{transform:scale(0, 0) rotate(45deg);}100%{transform:scale(1, 1) rotate(45deg);}}#checkbox.checked{background-color:var(--paper-checkbox-checked-color, var(--primary-color));border-color:var(--paper-checkbox-checked-color, var(--primary-color));}#checkmark{position:absolute;width:36%;height:70%;border-style:solid;border-top:none;border-left:none;border-right-width:calc(2/15 * var(--calculated-paper-checkbox-size));border-bottom-width:calc(2/15 * var(--calculated-paper-checkbox-size));border-color:var(--paper-checkbox-checkmark-color, white);-webkit-transform-origin:97% 86%;transform-origin:97% 86%;box-sizing:content-box;}:host-context([dir="rtl"]) #checkmark{-webkit-transform-origin:50% 14%;transform-origin:50% 14%;}#checkboxLabel{position:relative;display:inline-block;vertical-align:middle;padding-left:var(--paper-checkbox-label-spacing, 8px);white-space:normal;line-height:normal;color:var(--paper-checkbox-label-color, var(--primary-text-color));@apply --paper-checkbox-label;}:host([checked]) #checkboxLabel{color:var(--paper-checkbox-label-checked-color, var(--paper-checkbox-label-color, var(--primary-text-color)));@apply --paper-checkbox-label-checked;}:host-context([dir="rtl"]) #checkboxLabel{padding-right:var(--paper-checkbox-label-spacing, 8px);padding-left:0;}#checkboxLabel[hidden]{display:none;}:host([disabled]) #checkbox{opacity:0.5;border-color:var(--paper-checkbox-unchecked-color, var(--primary-text-color));}:host([disabled][checked]) #checkbox{background-color:var(--paper-checkbox-unchecked-color, var(--primary-text-color));opacity:0.5;}:host([disabled]) #checkboxLabel{opacity:0.65;}#checkbox.invalid:not(.checked){border-color:var(--paper-checkbox-error-color, var(--error-color));}</style><div id="checkboxContainer"><div id="checkbox" class$="[[_computeCheckboxClass(checked, invalid)]]"><div id="checkmark" class$="[[_computeCheckmarkClass(checked)]]"></div></div></div><div id="checkboxLabel"><slot></slot></div></template><script>Polymer({is:'paper-checkbox',behaviors:[Polymer.PaperCheckedElementBehavior],hostAttributes:{role:'checkbox','aria-checked':!1,tabindex:0},properties:{ariaActiveAttribute:{type:String,value:'aria-checked'}},attached:function(){Polymer.RenderStatus.afterNextRender(this,function(){var a=this.getComputedStyleValue('--calculated-paper-checkbox-ink-size').trim();if('-1px'===a){var b=parseFloat(this.getComputedStyleValue('--calculated-paper-checkbox-size').trim()),c=Math.floor(8/3*b);c%2!==b%2&&c++,this.updateStyles({'--paper-checkbox-ink-size':c+'px'})}})},_computeCheckboxClass:function(a,b){var c='';return a&&(c+='checked '),b&&(c+='invalid'),c},_computeCheckmarkClass:function(a){return a?'':'hidden'},_createRipple:function(){return this._rippleContainer=this.$.checkboxContainer,Polymer.PaperInkyFocusBehaviorImpl._createRipple.call(this)}});</script></dom-module><script>Polymer.PaperButtonBehaviorImpl={properties:{elevation:{type:Number,reflectToAttribute:!0,readOnly:!0}},observers:['_calculateElevation(focused, disabled, active, pressed, receivedFocusFromKeyboard)','_computeKeyboardClass(receivedFocusFromKeyboard)'],hostAttributes:{role:'button',tabindex:'0',animated:!0},_calculateElevation:function(){var a=1;this.disabled?a=0:this.active||this.pressed?a=4:this.receivedFocusFromKeyboard&&(a=3),this._setElevation(a)},_computeKeyboardClass:function(a){this.toggleClass('keyboard-focus',a)},_spaceKeyDownHandler:function(a){Polymer.IronButtonStateImpl._spaceKeyDownHandler.call(this,a),this.hasRipple()&&1>this.getRipple().ripples.length&&this._ripple.uiDownAction()},_spaceKeyUpHandler:function(a){Polymer.IronButtonStateImpl._spaceKeyUpHandler.call(this,a),this.hasRipple()&&this._ripple.uiUpAction()}},Polymer.PaperButtonBehavior=[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperRippleBehavior,Polymer.PaperButtonBehaviorImpl];</script><dom-module id="paper-button" assetpath="../../bower_components/paper-button/"><template strip-whitespace=""><style include="paper-material-styles">:host{@apply --layout-inline;@apply --layout-center-center;position:relative;box-sizing:border-box;min-width:5.14em;margin:0 0.29em;background:transparent;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);-webkit-tap-highlight-color:transparent;font:inherit;text-transform:uppercase;outline-width:0;border-radius:3px;-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;user-select:none;cursor:pointer;z-index:0;padding:0.7em 0.57em;@apply --paper-font-common-base;@apply --paper-button;}:host([elevation="1"]){@apply --paper-material-elevation-1;}:host([elevation="2"]){@apply --paper-material-elevation-2;}:host([elevation="3"]){@apply --paper-material-elevation-3;}:host([elevation="4"]){@apply --paper-material-elevation-4;}:host([elevation="5"]){@apply --paper-material-elevation-5;}:host([hidden]){display:none !important;}:host([raised].keyboard-focus){font-weight:bold;@apply --paper-button-raised-keyboard-focus;}:host(:not([raised]).keyboard-focus){font-weight:bold;@apply --paper-button-flat-keyboard-focus;}:host([disabled]){background:#eaeaea;color:#a8a8a8;cursor:auto;pointer-events:none;@apply --paper-button-disabled;}:host([animated]){@apply --shadow-transition;}paper-ripple{color:var(--paper-button-ink-color);}</style><slot></slot></template><script>Polymer({is:'paper-button',behaviors:[Polymer.PaperButtonBehavior],properties:{raised:{type:Boolean,reflectToAttribute:!0,value:!1,observer:'_calculateElevation'}},_calculateElevation:function(){this.raised?Polymer.PaperButtonBehaviorImpl._calculateElevation.apply(this):this._setElevation(0)}});</script></dom-module></div><dom-module id="fsn-oceanic-report"><template><style include="shared-styles">:host{display:block;padding:10px;}.item-group{display:inline-block;margin:14px auto;}paper-input,
      paper-checkbox{margin:14px auto;}.group2{display:inline-block;width:49.5%;}.group3{display:inline-block;width:32.8%;}.group4{display:inline-block;width:24.5%;}</style><paper-input class="group3" autocapitalize="" label="Destination" value="{{destination}}" pattern="^[A-Za-z0-9]{4}$" auto-validate=""></paper-input><paper-input class="group3" autocapitalize="" label="Cruise Altitude" value="{{cruiseAltitude}}" pattern="^[\d]{2}0$" auto-validate=""></paper-input><paper-input class="group3" autocapitalize="" label="Cruise Speed" value="{{cruiseSpeed}}" pattern="^\.[\d]{2}$" auto-validate=""></paper-input><paper-textarea autocapitalize="" label="Oceanic Route" value="{{oceanicRoute}}"></paper-textarea><paper-icon-item><paper-item-body two-line=""><div>{{_getCurrentWaypoint(oceanicRoute, currentPosition)}}</div><div secondary="">Flying to position</div></paper-item-body></paper-icon-item><paper-input class="" label="Time in simulator" value="{{_timeInSim}}" pattern="^([01]\d|2[0-3]):?([0-5]\d)$" auto-validate=""></paper-input><template is="dom-if" if="{{_requiresClearence(currentPosition)}}"><paper-input class="group2" label="Simulator time at {{_getCurrentWaypoint(oceanicRoute, currentPosition)}}" value="{{_timeAtCurrent}}" pattern="^([01]\d|2[0-3]):?([0-5]\d)$" auto-validate=""></paper-input><paper-item><paper-item-body two-line=""><div>{{clearencePhraseology}}</div><div secondary="">Clearence phraseology</div></paper-item-body></paper-item></template><template is="dom-if" if="{{_hasClearence(currentPosition)}}"><paper-input class="group2" label="Simulator time at {{_getCurrentWaypoint(oceanicRoute, currentPosition)}}" value="{{_timeAtCurrent}}" pattern="^([01]\d|2[0-3]):?([0-5]\d)$" auto-validate=""></paper-input><paper-input class="group2" label="Simulator time at {{_getNextWaypoint(oceanicRoute, currentPosition)}}" value="{{_timeAtNext}}" pattern="^([01]\d|2[0-3]):?([0-5]\d)$" auto-validate=""></paper-input><paper-item><paper-item-body two-line=""><div>{{positionReportPhraseology}}</div><div secondary="">Position report phraseology</div></paper-item-body></paper-item></template><paper-item><div class="item-group"><template is="dom-if" if="{{_canRewind(currentPosition, oceanicRoute)}}"><paper-button on-tap="handleRewindClick">Previous</paper-button></template><template is="dom-if" if="{{_canAdvance(currentPosition, oceanicRoute)}}"><paper-button on-tap="handleAdvanceClick">Next</paper-button></template></div></paper-item></template><script>class FsnOceanicReport extends Polymer.Element{static get is(){return"fsn-oceanic-report"}static get properties(){return{currentPosition:{type:Number,value:-1,notify:!0},oceanicRoute:{type:String,notify:!0,reflectToAttribute:!0,value:""},destination:{type:String,notify:!0,reflectToAttribute:!0,value:""},cruiseSpeed:{type:String,notify:!0,reflectToAttribute:!0,value:""},cruiseAltitude:{type:String,notify:!0,reflectToAttribute:!0,value:""},_timeInSim:{type:String,notify:!0,value:function(){var a=new Date;return this._getStringFromDate(a)}},_timeAtCurrent:{type:String,notify:!0,value:function(){var a=new Date;return this._getStringFromDate(a)}},_timeAtNext:{type:String,notify:!0,value:function(){var a=new Date;return this._getStringFromDate(a)}},clearencePhraseology:{computed:"_getClearencePhraseology(destination, oceanicRoute, cruiseAltitude, cruiseSpeed, timeAtCurrent)"},positionReportPhraseology:{computed:"_getPositionReportPhraseology(oceanicRoute, currentPosition, cruiseAltitude, cruiseSpeed, timeAtCurrent, timeAtNext)"},timeAtCurrent:{computed:"_getActualTimeAtPosition(_timeInSim, _timeAtCurrent)"},timeAtNext:{computed:"_getActualTimeAtPosition(_timeInSim, _timeAtNext)"}}}static get observers(){return["_updatePosition(oceanicRoute)"]}_getClearencePhraseology(a,b,c,d,e){return"Requesting clearence to "+a+" via "+b+", FL"+c+", Mach "+d+", estimating "+this._getCurrentWaypoint(b,-1)+" at time "+e+" zulu"}_getPositionReportPhraseology(a,b,c,d,e,f){var g="Reporting position "+this._getCurrentWaypoint(a,b)+" at time "+e+" zulu, FL"+c+", Mach "+d;return""!=this._getNextWaypoint(a,b)&&(g+=", estimating "+this._getNextWaypoint(a,b)+" at time "+f+" zulu"),""!=this._getAfterNextWaypoint(a,b)&&(g+=", next is "+this._getAfterNextWaypoint(a,b)),g}_getActualTimeAtPosition(a,b){a=this._getDateFromUTCString(a),b=this._getDateFromUTCString(b);var c=b.getTime()-a.getTime(),d=new Date().getTime();return this._getStringFromDate(new Date(d+c))}_getDateFromUTCString(a){var b=new Date;return b.setUTCHours(a.substring(0,2)),b.setUTCMinutes(a.substring(2)),b}_getStringFromDate(a){return a.getUTCHours().toString().padStart(2,"0")+a.getUTCMinutes().toString().padStart(2,"0")}_updatePosition(){this.currentPosition=-1}_requiresClearence(a){return-1==a}_hasClearence(a){return-1<a}_getCurrentWaypoint(a,b){b=-1==b?0:b;var c=a.split(" ");return c.length>=b+1?c[b]:""}_getNextWaypoint(a,b){b=-1==b?0:b;var c=a.split(" ");return c.length>=b+2?c[b+1]:""}_getAfterNextWaypoint(a,b){b=-1==b?0:b;var c=a.split(" ");return c.length>=b+3?c[b+2]:""}_canAdvance(a,b){var c=b.split(" ");return a<c.length-1}handleAdvanceClick(){this.oceanicRoute.split(" ");this._canAdvance(this.currentPosition,this.oceanicRoute)&&(0<=this.currentPosition&&(this.timeAtCurrent=this.timeAtNext,this.timeAtNext=""),this.currentPosition++)}_canRewind(a){return-1<a}handleRewindClick(){this._canRewind(this.currentPosition,this.oceanicRoute)&&(this.timeAtCurrent="",this.timeAtNext="",this.currentPosition--)}}window.customElements.define(FsnOceanicReport.is,FsnOceanicReport);</script></dom-module></body></html>